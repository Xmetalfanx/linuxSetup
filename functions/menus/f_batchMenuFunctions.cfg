# note to self: since i have a var with "menuLoop" as the name, rename this function 
function menuLoop() {

	# menuLoop zero = repeat ; menuLoop=1 "exit menu"

	if [ "$menuLoop" = "0" ]; then
		# loop menu 
		$menuName

	fi

}


# echos out the content of the menu
	# the name of the array is what gets passed

function setupMenu() {

	for element in "${menuArrayName[@]}"
    do
		
		# check the length of the element
		if [ ${#element} -lt 3 ]; then
			menuKey=$element
			echo -en " $menuKey:\t"
		else
			menuText=$element
			echo -en "$menuText\n"
		fi

    done
}


function menuHeader() {
	echo -e " $menuBorder"
	echo -e " $menuTitle"
	echo -e " $menuBorder\v"
}


#idea for now: this is the Meta function
function echoMenuLoop() {

	clear

	# intiallize menu loop
	menuLoop=0

	if [ "$menuLoop" = 0 ]; then
		menuHeader

		setupMenu "$menuArrayName"

		echo
		read -p "Your choice: " currentMenuSelection

		$currentMenuCaseStatementName

		menuLoop
	else
		return
	fi

}

function createDialogMenu() {
	# BACKTITLE and MENU are both set in f_variables.cfg

	if [ ! -v "$menuLoop" ]; then 
		menuLoop=0
	fi 

	currentMenuSelection=$(dialog --title "$menuTitle" \
							--backtitle "$BACKTITLE" \
							--menu "$MENU" \
							$WIDTH $HEIGHT $CHOICEHEIGHT \
							"${menuArrayName[@]}"  \
							3>&2 2>&1 1>&3)
	
	$currentMenuCaseStatementName
	menuLoop
}