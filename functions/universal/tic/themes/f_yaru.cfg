########################################################################################
## Yaru Theming

function yaruThemeMetaInstall() {
  case $distroBase in

    arch)
		aurAppInstall yaru-gtk-theme
		aurAppInstall yaru-icon-theme
		aurAppInstall yaru-sound-theme
		;;

    fedora) $install yaru-theme ;;

    opensuse) $install yaru-icon-theme gtk2-metatheme-yaru gtk3-metatheme-yaru;;

    solus) $install yaru-icon-theme ;;

    debian|ubuntu) $install yaru-theme-icon yaru-theme-sound yaru-theme-gtk ;;

  esac

}


## End Yaru
########################################################################################

# github: https://github.com/Jannomag/Yaru-Colors
# wget "https://github.com/Jannomag/Yaru-Colors/archive/refs/tags/21.10.3ubuntu5.tar.gz" -O YaruColors.tar.gz

function YaruColorsSetVariables() {
	packageName="YaruTheming"
	repoName="Jannomag/Yaru-Colors"

	# i dont like having to hardcode this but i will (for now)
	# What to Download
	YaruColorsTarball="${githubBaseURL}/${repoName}/archive/refs/tags/21.10.3ubuntu5.tar.gz"

	# output file
	YaruColorsLocalTarball="${homeDir}/Downloads/YaruColors.tz"
}

function YaruColorsHandleIcons(){

	## in dirs that start with Yaru
	YaruColorsIconLocation="Yaru-Colors-21.10.3ubuntu5/icons/"

	fancy_message action "Extracting Icons"
	tar -xvf ${YaruColorsLocalTarball} --directory ${iconsHome} --strip-components=2 --wildcards "Yaru-Colors-21.10.3ubuntu5/icons/Yaru*"
	userPrompt && clear
}

function YaruColorsHandleThemes(){
# location inside the tarball
	YaruColorsThemeLocation="Yaru-Colors-21.10.3ubuntu5/gtk/src/"

	fancy_message action "Extracting Themes"
	tar -xvf ${YaruColorsLocalTarball} --directory ${themesHome} --strip-components=3 ${YaruColorThemeLocation}

}

# The "Meta" function
function installYaruColorTheme() {

	YaruColorsSetVariables

	setupLocalThemingLocations

	# Download
		# thoughs: while this is a problem if the file is downloaded wrong, only download if the file is not there already
	[ ! -f ${YaruColorsLocalTarball} ] && fancy_message action "Downloading Yaru Color Theming" && wget "${YaruColorsTarball}" -O ${YaruColorsLocalTarball}

	YaruColorsHandleIcons

	YaruColorsHandleThemes

}