########################################################################################
# Mint-Y Theming

function mintYThemingMetaInstall_legacy() {
  # Idea: for the distros that do not have Mint-Y in their repos, eventually getting it via the Mint Github page and installing it that way, may be the way to go w

  clear
  fancy_message action "Installing Mint-Y Theming - Icons and Themes ... if possible "

  case $distroBase in

    arch)
      # ?? should these be in double quotes? can i pass them in one line?
      aurAppInstall mint-y-icons

      aurAppInstall mint-themes
		  ;;

    fedora) $install mint-themes mint-themes-gtk3 mint-x-icons mint-y-icons mint-y-theme ;;

    opensuse) $install mint-themes gtk2-metatheme-mint gtk3-metatheme-mint ;;

    solus)
        # I would add a git repo downloader here but ... for the theme anyway ... i dont think mint-Y is coded for budgie... however there are other DE options that this maybe worth doing this for (say Solus Mate)
        fancy_message info "Mint-Y Themes are not in Solus's repo"
        ;;

    opensuse)
    # GTK themes (Mint-x? Mint-Y?)
    # it is in Leap 15.0 and TW repos
    $install mint-themes metatheme-mint-common gtk3-metatheme-mint gtk2-metatheme-mint ;;

    ubuntu)
      fancy_message info "Mint Themes for Ubuntu based distros, is not coded yet "
      return ;;

    *) fancy_message warn "distroBase not detected" ;;

  esac

}

# End of Mint theme installs
#################################################################################

# this seems like it should be more global ... come back to this later
function setupThemeLocale() {
  # do i need to clean this var ?
  destinationDir=""

   # check themeType and make dirs if they do not exist already
  [ "${themeType}" == "icons" ] && [ ! -d "${iconHome}" ] && mkdir "${iconHome}"

  [ "${themeType}" == "themes" ] && [ ! -d "${themeHome}" ] && mkdir "${themeHome}"

  ## here due to the fact that if the Home dir's do exist, this var wouldn't get assigned the way i had it before
  # the iconHome and themeHome vars are not being detected
  [ "${themeType}" == "icons" ] && destinationDir="${iconHome}"
  [ "${themeType}" == "themes" ] && destinationDir="${themeHome}"

  userPrompt
}


## call this to install git theming
function gitExtractMintTheming() {
	gitRepo="linuxmint/${repoName}"
	gitURL="https://github.com/${gitRepo}.git"

	# inside of git cloned dir
	# where to move stuff from
	if [ "${themeType}" == "icons" ]; then
		gitThemingDestLocation="usr/share/icons"
	elif [ "${themeType}" == "themes" ]; then
		# this has to be generated after the git clone.
		# i think this should be ok as a string even if the
		# location doesn't exist yet, because the var will be used below
		gitThemingDestLocation="usr/share/themes"
	else
		fancy_message warn "ERROR: gitThemingDestLocation can not be set"
	fi

	clear
	fancy_message action "Installing ${themeName}"

	setupThemeLocale

	gitDownloadedDir="${downloadDir}/${repoName}"

	## if the dir named for the themeName doesn't exist in /home/${USER}/Downloads, git clone it
	[ ! -d "${gitDownloadedDir}"  ] && fancy_message action "Cloning ${themeName} Git Repository" && git clone "${gitURL}" "${gitDownloadedDir}" && userPrompt

	# in ~/Downloads/${repoName}/where mint stores the theme/icon in the git "folder"
	downloadedGitThemeLocale="${gitDownloadedDir}/${gitThemingDestLocation}/"

	if [ "${themeType}" == "themes" ]; then
		fancy_message action "Generating Themes"
		cd ${gitDownloadedDir}
		python3 generate-themes.py
		userPrompt
	fi


	[ -d "${downloadedGitThemeLocale}" ] && fancy_message action "Copying ${downloadedGitThemeLocale} files to ${destinationDir} folder" && cp -vr ${downloadedGitThemeLocale}/* ${destinationDir} && userPrompt

	# should i reset the pwd?

}


#################################################################################
# Official Mint Themes

function mintThemeCurrentGit() {
# https://github.com/linuxmint/mint-themes.git
	themeName="Mint Themes"
	themeType="themes"
	repoName="mint-themes"

	gitExtractMintTheming
}

function legacyMintThemeLegacyGit() {
# https://github.com/linuxmint/mint-themes-legacy
  themeName="Mint Legacy Themes"
  themeType="themes"
  repoName="mint-themes-legacy"
  gitExtractMintTheming

}

function MintyIconsGit() {
  themeName="Mint-Y Icons"
  themeType="icons"
  repoName="mint-y-icons"

  gitExtractMintTheming
}

# End of official Mint themes
#################################################################################



