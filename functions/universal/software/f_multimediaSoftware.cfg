. $uniFunctionDir/software/multimedia/includeMultiSoftwareDir.cfg

#################################################################################################################

function installXNViewMP()
{
	programTitle="XNViewMP"
	programName="XNViewMP"
	programHomepage="https://www.xnview.com/en/xnviewmp/"
	tarballURL="https://download.xnview.com/XnViewMP-linux-x64.tgz"
	appImageURL="https://download.xnview.com/XnView_MP.glibc2.18-x86_64.AppImage"
	
	# Flatpak info
	# xnviewmpFP is the flatpak name 

	# always the newest URL/DEB
	debURL="https://download.xnview.com/XnViewMP-linux-x64.deb"

	iconFile="/menu/xnview.svg"

	# Needed for Fedora ... do this first
	# 2022: not sure when (what Fedora version) this was added and if it's still needed
		
	case $distroBase in
		fedora) $install libnsl ;;
	esac
	
	
	case $distroBase in 

	    arch|fedora|opensuse|solus) installFlatpakApp $xnviewmpFP ;;

		## The same exact DEB works on Debian and Ubuntu
		debian|ubuntu)
	
			packageURL=$debURL
	
			# Download and Extract needed files
			metaExternalDownload $programName $programTitle $packageURL
	
			;;
	
			*) return ;;

  esac
  ##############################################################


}
############################################################

function installDeadBeefOpenSUSE(){
	if [ "$openSUSEBranch" == "tumbleweed" ]; then
		# in tumbleweed repos ... nothing else needed 
		installApp "$programName"
	elif [ "$openSUSEBranch" == "leap" ]; then

		# needed due to only being in CERTAIN leap versions
		case $leapVersion in
			15.3|15.4)  
				# Checks for third party repo but doesn't install anything 
				thirdPartyRepoSoftwareNotice "$programName"
				
				;; 

			*)
				# would i ever get to this point?
				echo -e "Version of OpenSUSE Leap not supported by this script" ;;

		esac
	fi
}


# for the deb, look to deb-apt and https://github.com/wimpysworld/deb-get/commit/f2eb0712d42cbf80f5bc1457e0dd58a63acdd06a#diff-56209e7a3fd82d42beae1c60e46b9d69ac2a89de06e33a2787c7b5ff238ea634= for inspiration


function installDeadbeef()
{
	programName="deadbeef"
	programTitle="DeadBeef Media Player"
	programHomepage="http://deadbeef.sourceforge.net/"
	packageVersion="1.9.1"
	
	# REDO these links 
	deadbeefDEBURL="https://sourceforge.net/projects/deadbeef/files/travis/linux/${packageVersion}/deadbeef-static_${packageVersion}-1_amd64.deb"

	deadbeefTarURL="https://sourceforge.net/projects/deadbeef/files/travis/linux/${packageVersion}/deadbeef-${packageVersion}.tar.bz2"

	snapName="deadbeef-vs"
	snapType="classic"
	
	iconFile=deadbeef.svg

	#deadbeefTar=$(curl -s "https://deadbeef.sourceforge.io/download.html" | awk -F \" '/tar.bz/ && /href/ {print $2;exit}' | sed 's/\/download//g')

	clear
	echo -e "Installing $programTitle"

	case $distroBase in

		arch) aurAppInstall "deadbeef" ;;

		debian|ubuntu) 
			
			gdebiInstall $deadbeefDEBURL ;;

		fedora)

			# check for RPMFusion
			thirdPartyRepoSoftwareNotice "$programName" 
			
			

			;;

		opensuse) installDeadBeefOpenSUSE ;;


		solus) installApp "deadbeef" ;;

		*) # The catch-all step
			echo "Deadbeef not installed. You are not (detected to be..) on a supported distro for my scripts" ;;

 	esac

}


##########################################################################
function audioRecorderDebianMenu()
{

	x=1
	while [ $x=1 ]; do

		clear

		echo -e "1. \tInstall DEB Multimedia \"Repo\" and install Audio-Recorder from said repo"


    echo -e "2. \tInstall Snap Version"

		read -p "Your Choice?: " aRecorderDebianChoice

		case $aRecorderDebianChoice in

			1)
				metaInstallSnapSupport
				userPrompt
				;;

			2)
				flatPakSupportInstall
				userPrompt
				;;

			3)	snapCheck
				flatpakCheck
				userPrompt
				;;

		esac
	done

}



function installAudioRecorder()
{

  programName="audio-recorder"
  programTitle="Audio Recorder"
  programHomepage=""


  # Universal Apps
  snapName="audio-recorder"
  snapType="edge"

  case $distroBase in

    arch|fedora|solus)

      echo -e "About to install the snap version of "
      installSnapApp $snapName ;;

    opensuse)

      # audio-recorder is in the Leap 42.3, Leap 15, and TW repos (not pacman, btw )
      installApp audio-recorder ;;

    ubuntu) installAudioRecorderPPA ;;

  esac


}
###################################################################################
# Source: https://github.com/tenacityteam/tenacity-flatpak-nightly/blob/main/README.md
function installTenaCityFlatpak()
{
	#todo; check for flatpak support here

	echo -e "About to install (non-final release) Tenacity Flatpak"
	echo -e "Tenacity is a fork of Audacity"
	flatpak remote-add tenacity oci+https://tenacityteam.github.io/tenacity-flatpak-nightly
	flatpak install tenacity org.tenacityaudio.Tenacity

	echo -e "Tenacity (Audacity fork) is now installed via a flatpak"

}

