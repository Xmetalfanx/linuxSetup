################################################################
# For getting General info ... functions in other files for that should be moved here 

function lsbReleaseInfo()
{ 
  # what if lsb is not installed? 
  
  # Seems like a "Full name"
  lsbDescription=$(lsb_release -sd )
  
  # Release number ... not sure if this varies from distro to distro 
  lsbRelease=$(lsb_release -sr)
  
  # Number spelled out on Fedora
  # Codename on Ubuntu 
  lsbCodename=$(lsb_release -sc)
  
  # more Exact name? ... this could be handy 
  lsbDistribID=$(lsb_release -si)

}

# Gets info from os-release file in the /etc directory 
function osreleaseInfo()
{
  # First sed = removes double quotes, if present
  # Second sed = removes everything before the = sign, from the start (left) of the line

  osRelease="cat /etc/os-release"

  # First part removes any double quotes
  # ?? Second removes everything before the equal sign 
  cleanInfo="sed s/\"//g;s/^.*=//g"

  ################################################
  OSRELEASE_NAME=$( $osRelease | $cleanInfo | grep ^NAME= )
  OSRELEASE_IDLIKE=$( $osRelease | $cleanInfo | grep ^ID_LIKE=)
  OSRELEASES_ID=$( $osRelease | $cleanInfo | grep ^ID= )
  OSRELEASES_VERSIONID=$( $osRelease | $cleanInfo | grep VERSION_ID= )
  OSRELEASES_VERSION=$( $osRelease | $cleanInfo | grep ^VERSION= )

  # Consider this to the Ubuntu specific check function
  OSRELEASES_UBUNTU_CODENAME=$(cat /etc/os-release | grep ^UBUNTU_CODENAME= | $cleanInfo)


}

#####################################################################


function intialChecks 
{
  #check if lsb_release is installed, and OFFER to install it, if it isn't 
  
  # Get info from lsb_release
  echo "Getting info based on lsb-release"
  lsbReleaseInfo

  # Gets info from /etc/os-release
  echo "Getting info from /etc/os-release file "
  osreleaseInfo

  if [ $(command -v pacman) ] || [ lsbDistribID = "Arch" ]; then
      
      
      ## This is ok for Manjaro since the BASE is arch ... it's not saying the DISTRO is arch, here
      distroBase="arch"
      rollingRelease="yes"
      
      
      
      
      pmanager="sudo pacman"

      install=$pmanager" -S"
      upgrade=$pmanager" -Syyu"

    # Fedora
    ## on the third check, doublecheck (no pun) I have the correct file listed 
    elif [ $(command -v dnf ) ] || [ lsbDistribID = "Fedora" ] || [-f /etc/fedora-release ]; then
      distroBase="fedora"
      pmanager="dnf"
      
      update="sudo dnf check-update"
      upgrade="sudo dnf upgrade"

    #openSuse
    elif [ $(command -v zypper) ] || [ lsbDistribID = "Opensuse" ] || [  $OSRELEASE_IDLIKE = "opensuse suse" ]; then
      distroBase="opensuse"
      pmanager="zypper"

      # Check for branch 

  
    # Solus
    elif [ $(command -v eopkg) ] || [ lsbDistribID = "Solus" ] || [$( OSRELEASES_ID= "solus" ) ] || [ OSRELEASE_NAME="Solus"]; then

      distroBase="solus"
      pmanager="sudo eopkg"

      install=$pmanager" install"
      update=$pmanager" update"

    # Ubuntu 
    elif [ lsbDistribID = "Ubuntu" ] || [  ]
      
      ## I want to keep this seperate to account for Debian 
      if [ $(command -v apt ) ]
        pmanager="sudo apt"
      elif [ $(command -v apt-get) ]
        pmanager="sudo apt-get"
      fi 

      install=$pmanager" install"
      update=$pmanager" upgrade"

      # Send to function to get more info about say Debian vs Ubuntu and what Ubuntu spin it could be 
  
    fi 

    ## Support check function call should be somewhere near here 

}